import React, { useState, useEffect } from "react";
import styles from "../app/game/styles.module.css"

interface SvgOverlayProps {
    count: number; // Prop para la cantidad de círculos
}

const SvgOverlay: React.FC<SvgOverlayProps> = ({ count }) => {
    const [isVisible, setIsVisible] = useState(true); // Controla la visibilidad del SVG

    useEffect(() => {
        console.log(count)
        const timer = setTimeout(() => {
            setIsVisible(false); // Oculta el SVG después de 5 segundos
        }, 4000);

        return () => clearTimeout(timer); // Limpieza del temporizador
    }, []);

    if (!isVisible) return null; // Si no es visible, no se renderiza nada

    return (
        <>
            {count == 1 ? (
                <div className={styles.overlay_style}>
                    <svg width="100%" height="100%" viewBox="0 0 380 630">
                    <path
                        d="M95.2 594.4C93.0667 599.733 89.3333 603.467 84 605.6C78.6667 607.2 73.0667 608 67.2 608H29.6C10.4 608 0.800004 601.333 0.800004 588C0.800004 580 3.73334 570.133 9.6 558.4L134.4 304L9.6 49.6C3.2 35.7333 2.38419e-06 25.3333 2.38419e-06 18.4C2.38419e-06 10.9333 2.4 6.13329 7.20001 3.99996C12.5333 1.33329 20 -4.00543e-05 29.6 -4.00543e-05H67.2C73.0667 -4.00543e-05 78.6667 1.06663 84 3.19997C89.3333 4.79998 93.0667 8.26665 95.2 13.6L186.4 199.2L277.6 13.6C280.267 8.26665 284.267 4.79998 289.6 3.19997C294.933 1.06663 300.267 -4.00543e-05 305.6 -4.00543e-05H343.2C362.4 -4.00543e-05 372 6.66664 372 20C372 28.5333 369.067 38.4 363.2 49.6L238.4 304L363.2 558.4C370.133 572.267 373.6 582.933 373.6 590.4C373.6 597.333 370.933 602.133 365.6 604.8C360.267 606.933 352.8 608 343.2 608H305.6C300.267 608 294.933 607.2 289.6 605.6C284.267 603.467 280.267 599.733 277.6 594.4L186.4 408.8L95.2 594.4Z" fill="#F55BD6" />
                    </svg>
                </div>
            ):(
                <>
                <div className={styles.overlay_style} style={{
                    left:"30%",
                }}>
                    <svg width="100%" height="100%" viewBox="0 0 380 630">
                    <path
                        d="M95.2 594.4C93.0667 599.733 89.3333 603.467 84 605.6C78.6667 607.2 73.0667 608 67.2 608H29.6C10.4 608 0.800004 601.333 0.800004 588C0.800004 580 3.73334 570.133 9.6 558.4L134.4 304L9.6 49.6C3.2 35.7333 2.38419e-06 25.3333 2.38419e-06 18.4C2.38419e-06 10.9333 2.4 6.13329 7.20001 3.99996C12.5333 1.33329 20 -4.00543e-05 29.6 -4.00543e-05H67.2C73.0667 -4.00543e-05 78.6667 1.06663 84 3.19997C89.3333 4.79998 93.0667 8.26665 95.2 13.6L186.4 199.2L277.6 13.6C280.267 8.26665 284.267 4.79998 289.6 3.19997C294.933 1.06663 300.267 -4.00543e-05 305.6 -4.00543e-05H343.2C362.4 -4.00543e-05 372 6.66664 372 20C372 28.5333 369.067 38.4 363.2 49.6L238.4 304L363.2 558.4C370.133 572.267 373.6 582.933 373.6 590.4C373.6 597.333 370.933 602.133 365.6 604.8C360.267 606.933 352.8 608 343.2 608H305.6C300.267 608 294.933 607.2 289.6 605.6C284.267 603.467 280.267 599.733 277.6 594.4L186.4 408.8L95.2 594.4Z" fill="#F55BD6" />
                    </svg>
                </div>
                <div className={styles.overlay_style} style={{
                    left:"70%",
                }}>
                    <svg width="100%" height="100%" viewBox="0 0 380 630">
                    <path
                        d="M95.2 594.4C93.0667 599.733 89.3333 603.467 84 605.6C78.6667 607.2 73.0667 608 67.2 608H29.6C10.4 608 0.800004 601.333 0.800004 588C0.800004 580 3.73334 570.133 9.6 558.4L134.4 304L9.6 49.6C3.2 35.7333 2.38419e-06 25.3333 2.38419e-06 18.4C2.38419e-06 10.9333 2.4 6.13329 7.20001 3.99996C12.5333 1.33329 20 -4.00543e-05 29.6 -4.00543e-05H67.2C73.0667 -4.00543e-05 78.6667 1.06663 84 3.19997C89.3333 4.79998 93.0667 8.26665 95.2 13.6L186.4 199.2L277.6 13.6C280.267 8.26665 284.267 4.79998 289.6 3.19997C294.933 1.06663 300.267 -4.00543e-05 305.6 -4.00543e-05H343.2C362.4 -4.00543e-05 372 6.66664 372 20C372 28.5333 369.067 38.4 363.2 49.6L238.4 304L363.2 558.4C370.133 572.267 373.6 582.933 373.6 590.4C373.6 597.333 370.933 602.133 365.6 604.8C360.267 606.933 352.8 608 343.2 608H305.6C300.267 608 294.933 607.2 289.6 605.6C284.267 603.467 280.267 599.733 277.6 594.4L186.4 408.8L95.2 594.4Z" fill="#F55BD6" />
                    </svg>
                </div>
                </>
            )}
        </>
    );
};

export default SvgOverlay;
